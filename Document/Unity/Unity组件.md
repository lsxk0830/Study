##### Mesh Filter（网格过滤器）组件

单纯保存了一个网格信息。作为单独组件可以和多个不同的Render进行组合

------

##### Mesh Render（网格渲染）组件

用于渲染Mesh Filter组件中的模型。渲染静态物体，所以不能对模型播放动画

------

##### Skinned Mesh Render（蒙皮网格渲染）组件

- 记录骨骼与模型顶点的权重信息
- 比Mesh Render组件多了一些额外信息，其中Mesh表示模型的网格资源，RootBone表示根节点骨骼
- 绑定根节点骨骼的意思是当播放骨骼动画是从这个节点下开始找对应的骨骼节点

------

##### EventSystem组件

用于监听游戏事件

------

##### CanvasRender组件

UGUI中所有UI单元都需要绑定它才能参与渲染

<img src="..\Texture\Unity\003.png" align="left"/>

- Cull Transparent Mesh：

  表示是否过滤透明像素，原理是使用Shader的Alpha Test功能，在片元着色器上判断当前是不是透明像素，如果已经是透明像素了，就直接把这个像素丢弃

------

##### Text组件

自带的Text比较占内存，无法提供图文混排功能

<img src="..\Texture\Unity\001.png" style="zoom:67%;" align="left" />

- Rich Text：是否支持富文本

  <img src="..\Texture\Unity\002.png" style="zoom:67%;" align="left"/>

- Maskable:表示当前文本是否可以被Mask或者RectMask2D裁掉

- Best Fit:显示文本时忽略设置的字体大小，采用Min Size和Max Size的大小，尽可能将文本装在文本框中

- Raycast Target:表示当前文本是否接受点击事件。不需要点击的UI尽量不要勾选它，否则会带来额外的性能消耗

- Raycast Padding:希望文本的显示区域和点击区域不同，可以通过它上下左右的偏移量来实现

------

##### 描边和阴影

Text会先根据文字对应的Unicode码在TTF字体库中提取字的型号，然后将它绘制在Font纹理位图中。这样每个字形都能确定一个矩形区域，再配合Text中设置的字体大小，就能计算出文字的包围盒。根据包围盒的大小，用两个三角形面就能确定一个字体渲染的Mesh.
Text提取字型号--->绘制在Font位图--->每个字形的矩形区域和字体大小--->计算文字包围盒--->两个三角面确定Mesh

为了得到好的描边结果，UGUI采用的方式是额外生成4个面片，在上下左右四个方向上各绘制1次，再加上原来的1次文字绘制，一个描边需要画5次才能完成。

示例：原本5和汉子只需要10个三角面，因为加了描边，所以多画了4次，一共50个三角面。主摄像机带了4个三角面，所以54个三角面。

<img src="..\Texture\Unity\004.png"  align="left"  />

在描边的基础上继续添加阴影，三角面的数量（不包括主摄像机的数量4个）翻了一倍。原因是**阴影需要对每个文字的面片增加一倍的开销**。所以描边产生的50个三角面就变成了100个三角面。如果只增加阴影，那么5个汉子只需要额外产生10个三角面。所以不要同时使用描边和阴影。

为Text添加描边以后得到的文本容易不清晰，目前的解决办法是将文本的字体调大，在RectTransform组件缩小Scale。缺点是文本会在位图中占用更多的内存。

------

##### 动态字体

UGUI动态字体的原理是根据传入的文字及字体大小将其生成纹理图集，文本网格的顶点上会记录UV信息，然后通过UV信息在字体纹理上采样贴图，文字最终就会显示出来了。
字符生成位图 → **位图打包为纹理图集** → 通过UV从图集采样 → 显示文字

> UV:一个二维坐标系,作用是告诉每个文字的顶点"应该从字体纹理的哪个位置采样颜色”.
>
> 若字符“A”在纹理中占据的区域是 `(x:0.2~0.3, y:0.5~0.6)`，则它的四个顶点UV坐标为：
> 左下角：(0.2, 0.5)
> 右下角：(0.3, 0.5)
> 左上角：(0.2, 0.6)
> 右上角：(0.3, 0.6)

文本最终被保存在位图中，因为是根据文字+字体大小生成的纹理，所以完全相同的文本如果字体大小不同，也会在位图中保存多份。

------

##### 字体花屏

纹理位图会根据文字的内容动态扩容。动态扩容时，文字对应的UV一点会发生变化。UGUI底层已经处理过这些了，但在实际开发中，个别设备还是会出现花屏的问题。花屏的原因是：虽然纹理位图已经扩容，但是文本网格顶点数据中的UV并没有更新，导致了采样错误。

------

##### Text Mesh Pro